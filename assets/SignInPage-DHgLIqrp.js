import{a as w,u as N,b as S,c as v,r as a,j as s,L as c,l as I,d as b,H as B}from"./index-CIsoJgI0.js";import{A as W}from"./AdvantagesSection-CnhamRC6.js";import{c as k,a as p,u as P,I as E,o as $,n as d}from"./index-DQrAZTBT.js";import{i as m}from"./icons-fomf6NZC.js";import{P as G}from"./Page-DlT4_lgx.js";const D="_divDesktopOnly_uqhb9_1",L={divDesktopOnly:D},T="_signUpWrap_1q7qf_1",C="_form_1q7qf_9",U="_formTitle_1q7qf_14",A="_label_1q7qf_23",F="_input_1q7qf_34",M="_inputError_1q7qf_52",O="_inputWrapper_1q7qf_56",z="_iconButton_1q7qf_62",H="_icon_1q7qf_62",R="_errorMessage_1q7qf_81",K="_signInButton_1q7qf_102",Q="_text_1q7qf_130",J="_spanLink_1q7qf_138",V="_line_1q7qf_145",X="_loginWithGoogleBtnContainer_1q7qf_164",Y="_loginWithGoogleBtn_1q7qf_164",e={signUpWrap:T,form:C,formTitle:U,label:A,input:F,inputError:M,inputWrapper:O,iconButton:z,icon:H,errorMessage:R,signInButton:K,text:Q,spanLink:J,line:V,loginWithGoogleBtnContainer:X,loginWithGoogleBtn:Y},Z=k().shape({email:p().email("Invalid email").required("Email is required"),password:p().min(8,"Password must be at least 8 characters").required("Password is required")}),ss=()=>{const o=w(),r=N(),i=S(v),[u,g]=a.useState("password"),[h,f]=a.useState("eye-off"),{register:l,handleSubmit:_,formState:{errors:n},reset:x}=P({resolver:$(Z)}),q=async t=>{try{await r(I(t)).unwrap(),r(b()).unwrap(),d.success("Successfully signed in!"),x(),o("/tracker")}catch(y){d.error(y||"Failed to sign in. Please try again later.")}};a.useEffect(()=>{i&&o("/tracker")},[i,o]);const j=()=>{g(t=>t==="password"?"text":"password"),f(t=>t==="eye-off"?"eye":"eye-off")};return s.jsxs("div",{className:e.signUpWrap,children:[s.jsx(E,{position:"top-center"}),s.jsxs("form",{onSubmit:_(q),className:e.form,children:[s.jsx("h2",{className:e.formTitle,children:"Sign In"}),s.jsx("label",{className:e.label,children:"Email"}),s.jsx("input",{className:`${e.input} ${n.email?e.inputError:""}`,...l("email"),placeholder:"Enter your email"}),n.email&&s.jsx("p",{className:e.errorMessage,children:n.email.message}),s.jsxs("div",{style:{marginBottom:25,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("label",{className:e.label,children:"Password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{className:`${e.input} ${n.password?e.inputError:""}`,...l("password"),type:u,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:j,className:e.iconButton,children:h==="eye"?s.jsx("svg",{className:e.icon,children:s.jsx("use",{href:`${m}#eye`})}):s.jsx("svg",{className:e.icon,children:s.jsx("use",{href:`${m}#eye-off`})})})]}),n.password&&s.jsx("p",{className:e.errorMessage,children:n.password.message}),s.jsx("p",{className:e.text,children:s.jsx(c,{to:"/forgot-password",children:s.jsx("span",{className:e.spanLink,style:{fontSize:14},children:"Forgot password?"})})})]}),s.jsx("button",{className:e.signInButton,type:"submit",children:"Sign In"})]}),s.jsxs("p",{className:e.text,children:["Donâ€™t have an account?"," ",s.jsx(c,{to:"/signup",children:s.jsx("span",{className:e.spanLink,children:"Sign Up"})})]}),s.jsx("div",{className:e.line}),s.jsx("div",{className:e.loginWithGoogleBtnContainer,children:s.jsx("a",{className:e.loginWithGoogleBtn,href:"https://aquatrack-api-myzh.onrender.com/api/auth/google",children:"Sign in with Google"})})]})},rs=()=>s.jsxs(s.Fragment,{children:[s.jsx(B,{children:s.jsx("title",{children:"AQUATRACK: Sign in to your account"})}),s.jsxs(G,{children:[s.jsx("title",{children:"Sign In Page"}),s.jsx(ss,{}),s.jsx("div",{className:L.divDesktopOnly,children:s.jsx(W,{})})]})]});export{rs as default};
