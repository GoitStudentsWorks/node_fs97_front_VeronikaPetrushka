import{a as h,u as g,b as j,c as f,r as a,j as s,L as i,C as b,H as N}from"./index-bmSj7hgc.js";import{A as y}from"./AdvantagesSection-CjXj8TAl.js";import{c as k,a as v,u as S,I,o as w,n as E}from"./index-C2wOSyqL.js";import{P as W}from"./Page-DOg1c2J5.js";const U="_divDesktopOnly_uqhb9_1",F={divDesktopOnly:U},L="_signUpWrap_tx6m4_1",A="_form_tx6m4_10",D="_formTitle_tx6m4_15",P="_label_tx6m4_24",T="_input_tx6m4_35",$="_inputError_tx6m4_53",M="_inputWrapper_tx6m4_57",O="_iconButton_tx6m4_62",R="_icon_tx6m4_62",q="_errorMessage_tx6m4_81",B="_button_tx6m4_102",C="_text_tx6m4_130",H="_spanLink_tx6m4_138",K="_errorInfo_tx6m4_145",e={signUpWrap:L,form:A,formTitle:D,label:P,input:T,inputError:$,inputWrapper:M,iconButton:O,icon:R,errorMessage:q,button:B,text:C,spanLink:H,errorInfo:K},Q=k().shape({email:v().email("Invalid email").required("Email is required")}),z=()=>{const r=h(),c=g(),n=j(f),[o,l]=a.useState(null),{register:m,handleSubmit:p,formState:{errors:t},reset:u}=S({resolver:w(Q)}),d=async x=>{try{await c(b(x)).unwrap(),l("Check your email! We sent you a link to reset your password."),u()}catch(_){E.error(_||"User with this email does not exist!")}};return a.useEffect(()=>{n&&r("/tracker")},[n,r]),o?s.jsxs("div",{className:e.signUpWrap,children:[s.jsx("h2",{className:e.formTitle,children:"Forgot your password?"}),s.jsx("p",{className:e.errorInfo,children:o})]}):s.jsxs("div",{className:e.signUpWrap,children:[s.jsx(I,{position:"top-right"}),s.jsxs("form",{onSubmit:p(d),className:e.form,children:[s.jsx("h2",{className:e.formTitle,children:"Forgot your password?"}),s.jsx("label",{className:e.label,children:"Email"}),s.jsx("input",{className:`${e.input} ${t.email?e.inputError:""}`,...m("email"),placeholder:"Enter your email"}),t.email&&s.jsx("p",{className:e.errorMessage,children:t.email.message}),s.jsx("button",{className:e.button,type:"submit",children:"Send"})]}),s.jsxs("p",{className:e.text,children:["Donâ€™t have an account?"," ",s.jsx(i,{to:"/signup",children:s.jsx("span",{className:e.spanLink,children:"Sign Up"})})]}),s.jsxs("p",{className:e.text,children:["Already registered?"," ",s.jsx(i,{to:"/signin",children:s.jsx("span",{className:e.spanLink,children:"Sign In"})})]})]})},Y=()=>s.jsxs(s.Fragment,{children:[s.jsx(N,{children:s.jsx("title",{children:"AQUATRACK: Forgot your password?"})}),s.jsxs(W,{children:[s.jsx(z,{}),s.jsx("div",{className:F.divDesktopOnly,children:s.jsx(y,{})})]})]});export{Y as default};
